services:
  youtube-dl:
    image: nbr23/youtube-dl-server:latest
    restart: always
    container_name: youtube-dl
    hostname: youtube-dl
    networks:
    - traefik_network
    labels:
    - homepage.description=YouTube Downloader
    - homepage.group=Video Downloaders
    - homepage.href=https://youtube-dl.${DOMAINNAME}/
    - homepage.icon=youtube-dl
    - homepage.name=Youtube-dl
    - lostack.duration=15m
    - lostack.primary=true
    - lostack.tags=downloader,videos,podcasts
    - lostack.project_url=https://github.com/nbr23/youtube-dl-server
    - lostack.details=Simple Web and REST interface for downloading youtube videos onto a server. starlette + yt-dlp / youtube-dl
    - sablier.enable=true
    - sablier.group=youtube-dl
    - traefik.enable=true
    - traefik.http.routers.youtube-dl.rule=Host(`youtube-dl.${DOMAINNAME}`)
    - traefik.http.services.youtube-dl.loadbalancer.server.port=8080
    volumes:
    - ${APPDATA_DIR}/youtube-dl:/youtube-dl
